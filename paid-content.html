<div id="protected-content"></div>

<script>
  const apiKey = 'BUfBYP3XW59jPvRwVstTsRvq';
  const membershipCheckUrl = 'https://ottawa.memberful.com/api/member';

  // Check if the user is a member
  fetch(membershipCheckUrl, {
    headers: {
      'Authorization': `Bearer ${apiKey}`
    }
  })
  .then(response => response.json())
  .then(data => {
    if (data.member) {
      // User is a member, embed the HTML content
      document.getElementById('protected-content').innerHTML = 'Here is the protected content!';
    } else {
      // User is not a member, show an error message
      document.getElementById('protected-content').innerHTML = '<p>You need to be a member to view this content.</p>';
    }
  })
  .catch(error => console.error('Error:', error));
</script>
